<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>seams</title>

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" /> 
  <link rel="stylesheet" href="/css/seams.css" /> 


  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body>
  <div class="container">

    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <a class="navbar-brand" href="/admin/home">SEaMS</a>
        </div>

      </div><!-- /.container-fluid -->
    </nav>

    <div class="jumbotron">
      <h1>SEaMS - ADMIN</h1>
      <p>Administrative functions</p>
      <p><a class="btn btn-warning btn-lg" href="/admin/upload" role="button">Upload</a></p>
      <p><a class="btn btn-success btn-lg" href="/admin/search" role="button">Search</a></p>
      <p><a class="btn btn-danger btn-lg" href="/admin/delete" role="button">Delete</a></p>      
    </div>
    
    <div class="panel panel-default">
      <div class="panel-heading">
       <h3 class="panel-title">Seams API</h3>
      </div>
      <div class="panel-body">
        <p>Access the seams API at <a href="/search">/search</a> passing in parameters:</p>
        <p></p>
        
        <table class="table">
          <tr>
            <th>Parameter</th>
            <th>Description</th>
            <th>e.g.</th>
          </tr>
          <tr>
            <td>q</td>
            <td>The query you want to perform</td>
            <td>
               <ul>
                 <li><a href="/search?q=*:*">*:*</a> - search for everything</li>
                 <li>[fieldname]:'[value]' - fielded search</li>
                 <li>[fieldname1]:'[value1]' OR [fieldname2]:'[value2]' - query logic</li>
                 <li>[value] - match any field</li>
              </ul>
            </td>
          </tr>
          <tr>
            <td>limit</td>
            <td>The number of records to return</td>
            <td>10</td>
          </tr>
        </table>
        
        <p>The API returns a JSON object like this:
          <pre>
{
  "total_rows": 26,
  "bookmark": "",
  "rows": [
     { },
     { },
     ...
  ],
  "counts": {
  },
  "from_cache": true
}
          </pre>
          where <b>total_rows</b> is the number of rows in the result set, <b>bookmark</b> is the string 
          to pass back into the API in a subsequent call to get the next page of results,
          <b>rows</b> is an array of document objects that match the supplied query,
          <b>counts</b> is an object containing counts of each field that has been faceted and 
          <b>from_cache</b> represents whether the results came from cache or not.
        </p>
      </div>
    </div>
    
    <div id="preview">
      
      
    </div>
    

  
  </div> <!-- container -->


  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
  <script src="/js/seams.js"></script>
  
  <script type="text/javascript">
    renderPreview(function(err, html) {
      $('#preview').html(html);
    });
  </script>
  
</body>
</html>